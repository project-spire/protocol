syntax = "proto3";

import "character_data.proto";
import "race.gen.proto";
import "google/protobuf/empty.proto";

package spire.protocol.lobby;

service Characters {
    rpc ListCharacters (google.protobuf.Empty) returns (ListCharactersResponse);
    rpc CreateCharacter (CreateCharacterRequest) returns (CreateCharacterResponse);
    rpc DeleteCharacter (DeleteCharacterRequest) returns (DeleteCharacterResponse);
}

message ListCharactersResponse {
    repeated CharacterData characters = 1;
}

message CreateCharacterRequest {
    string name = 1;
    Race race = 2;
}

message CreateCharacterResponse {
    enum Result {
        Ok = 0;
        ServerError = 1;
        DuplicateName = 2;
    }

    Result result = 1;
    optional CharacterData character = 2;
}

message DeleteCharacterRequest {
    int64 id = 1;
}

message DeleteCharacterResponse {}
